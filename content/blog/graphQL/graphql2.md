---
date: 2021-11-29 20:23:13
category: 'graphQL'
draft: false
title: '[GraphQL] GraphQL κ³Ό RestAPI'
emoji: π“
---

μ΄ κΈ€μ€ Graph QL κ³µμ‹ μ‚¬μ΄νΈμ 'GraphQL is the better REST' λ¥Ό λ²μ—­ν• κΈ€μ…λ‹λ‹¤.

[μ›λ¬Έ λ³΄κΈ°](https://www.howtographql.com/basics/1-graphql-is-the-better-rest/)

# Graph QLμ€ λ” λ‚μ€ REST

μ§€λ‚ 10λ…„κ°„ RESTλ” μ›Ή APIμ„¤κ³„λ¥Ό μ„ν• ν‘μ¤€μ— κ°€κΉμ› μ΅μµλ‹λ‹¤. stateless serverμ™€ λ¦¬μ†μ¤μ— λ€ν• κµ¬μ΅°ν™”λ μ ‘κ·Όκ°™μ€ μΆ‹μ€ κ°λ…λ“¤μ„ μ κ³µν•λ‹¤. κ·Έλ¬λ‚ RESP APIsλ” ν΄λΌμ΄μ–ΈνΈμ λΉ λ¥΄κ² λ³€ν™”ν•λ” μ”κµ¬ μ‚¬ν•­μ„ λ”°λΌκ°€κΈ°μ—λ” μ μ—°ν•μ§€ λ»ν•©λ‹λ‹¤.

κ·Έλν”„QLμ€ λ” λ§μ€ μ μ—°μ„±κ³Ό ν¨μ¨μ„±μ— λ€ν• μ”κµ¬μ— λ€μ²ν•κΈ° μ„ν•΄ κ°λ° λμ—λ‹¤. κ°λ°μκ°€ REST APIμ™€ μƒνΈμ‘μ© ν•  λ• κ²½ν—ν•λ” λ§μ€ λ‹¨μ κ³Ό λΉ„ν¨μ¨μ„±μ„ ν•΄κ²° ν•λ‹¤.

## μμ  μ‹λ‚λ¦¬μ¤

REST APIμ™€ Graph QLμ μ£Όμ” μ°¨μ΄μ μ„ μ„¤λ…ν•κΈ° μ„ν• κ°„λ‹¨ν• μμ  μ‹λ‚λ¦¬μ¤μ΄λ‹¤. λΈ”λ΅κ·Έ μ•±μ€ νΉμ • μ‚¬μ©μμ κ²μ‹λ¬Όμ μ λ©μ„ ν‘μ‹ν•΄μ•Ό ν•λ‹¤. κ°™μ€ ν™”λ©΄μ— ν•΄λ‹Ή μ‚¬μ©μμ λ§μ§€λ§‰ ν”λ΅μ› 3λ…μ μ΄λ¦„λ„ ν‘μ‹κ°€ λλ‹¤.

REST APIμ™€ Graph QLμ„ μ‚¬μ©ν• μ‹λ‚λ¦¬μ¤ μ°¨μ΄μ μ„ λΉ„κµν•λ‹¤.

### REST APIλ΅ λ°μ΄ν„° κ°€μ Έ μ¤κΈ°

μΌλ°μ μΌλ΅ μ—¬λ¬ μ—”λ“ν¬μΈνΈμ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έ μ¨λ‹¤.

1. μ—”λ“ν¬μΈλ“ : `/users/<id>` μ—μ„ μ΄κΈ° μ‚¬μ©μμ λ°μ΄ν„°λ¥Ό λ¦¬ν„΄

2. μ—”λ“ν¬μΈνΈ : `/users/<id>/posts` μ—μ„ μ‚¬μ©μμ— λ€ν• λ¨λ“  ν¬μ¤ν… λ°μ΄ν„°λ¥Ό λ¦¬ν„΄

3. μ—”λ“ν¬μΈνΈ : `/users/<id>/followers` μ—μ„ μ‚¬μ©μλ‹Ή ν”λ΅μ› λ©λ΅μ„ λ¦¬ν„΄

RESTλ¥Ό μ‚¬μ©ν•λ©΄ ν•„μ”ν• λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤κΈ° μ„ν•΄μ„ μ„λ΅ λ‹¤λ¥Έ μ—”λ“ν¬μΈνΈμ— μ”μ²­μ„ μ„Έ λ² ν•΄μ•Ό ν•λ‹¤. μ—”λ“ν¬μΈνΈκ°€ ν•„μ”ν•μ§€ μ•μ€ μ¶”κ°€ μ •λ³΄λ¥Ό λ°ν™ν•κΈ° λ•λ¬Έμ— μ¤λ²„ νμΉ­μ¤‘μ΄κΈ°λ„ ν•λ‹¤.

![μ¶μ²:[https://www.howtographql.com/basics/1-graphql-is-the-better-rest/](https://www.howtographql.com/basics/1-graphql-is-the-better-rest/)](graphql2/Untitled.png)

μ¶μ²:[https://www.howtographql.com/basics/1-graphql-is-the-better-rest/](https://www.howtographql.com/basics/1-graphql-is-the-better-rest/)

### Graph QLλ΅ λ°μ΄ν„° κ°€μ Έμ¤κΈ°

κ·Έλν”„ QLμ—μ„λ” κµ¬μ²΄μ μΈ λ°μ΄ν„° μ”κµ¬ μ‚¬ν•­μ΄ ν¬ν•¨λ λ‹¨μΌ μΏΌλ¦¬λ¥Ό Graph QLμ„λ²„μ— λ³΄λ‚΄κΈ°λ§ ν•λ©΄ λλ‹¤. μ„λ²„λ” μ΄λ¬ν• μ”κµ¬μ‚¬ν•­μ΄ μ¶©μ΅±λλ” JSONκ°μ²΄λ΅ μ‘λ‹µν•λ‹¤.

![μ¶μ²: [https://www.howtographql.com/basics/1-graphql-is-the-better-rest/](https://www.howtographql.com/basics/1-graphql-is-the-better-rest/)](graphql2/g.png)

μ¶μ²: [https://www.howtographql.com/basics/1-graphql-is-the-better-rest/](https://www.howtographql.com/basics/1-graphql-is-the-better-rest/)

REST APIμ μΌλ°μ μΈ λ¬Έμ μΈ μ¤λ²„ νμΉ λ° μ–Έλ” νμΉκ°€ μ—†μ–΄μ§„λ‹¤. μ¤λ²„ λ° μ–Έλ” νμΉλ” ν΄λΌμ΄μ–ΈνΈκ°€ λ°μ΄ν„°λ¥Ό μ„λ²„μ—μ„ λ°›μ„ λ• κ³ μ •λ λ°μ΄ν„° κµ¬μ΅°λ¥Ό λ°ν™ν•λ” μ—”λ“ν¬μΈνΈμ— μ ‘κ·Όν•κΈ° λ•λ¬Έμ— λ°μƒν•λ‹¤. ν΄λΌμ΄μ–ΈνΈμ—κ² μ •ν™•ν• λ°μ΄ν„° μ”κµ¬ μ‚¬ν•­μ„ μ κ³µν•  μ μλ” λ°©μ‹μΌλ΅ APIλ¥Ό μ„¤κ³„ν•λ” κ²ƒμ€ λ§¤μ° μ–΄λ µλ‹¤.

## μ¤λ²„ νμΉμ™€ μ–Έλ” νμΉ

### μ¤λ²„ νμΉ­: λ¶ν•„μ”ν• λ°μ΄ν„° λ‹¤μ΄λ΅λ“

μ¤λ²„νμΉ­μ€ ν΄λΌμ΄μ–ΈνΈκ°€ μ‹¤μ λ΅ μ•±μ—μ„ ν•„μ”ν• κ²ƒλ³΄λ‹¤ λ” λ§μ€ μ •λ³΄λ¥Ό λ‹¤μ΄λ΅λ“ ν•λ” κ²ƒμ„ λ§ν•λ‹¤. μ‚¬μ©μ μ΄λ¦„λ§ μ›ν•λ”λ° /user κ°€ λ¦¬ν„΄ν•λ” κµ¬μ΅°μ— λ¨λ“  μ‚¬μ©μμ μ •λ³΄ (μƒμΌμ΄λ‚ μ£Όμ†)κ°€ λ“¤μ–΄μμΌλ©΄ μ΄κ²ƒμ€ μ“Έλ°μ—†λ” μ •λ³΄κ°€ λλ‹¤.

### μ–Έλ” νμΉ­κ³Ό n+1λ¬Έμ 

μ–Έλ”νμΉ­μ€ μΌλ°μ μΌλ΅ νΉμ • μ—”λ“ ν¬μΈνΈκ°€ ν•„μ”ν• μ •λ³΄λ¥Ό μ¶©λ¶„ν μ κ³µν•μ§€ μ•λ”λ‹¤λ” κ²ƒμ„ λ§ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” ν•„μ”ν• λ¨λ“  κ²ƒμ„ κ°€μ Έμ¤κΈ° μ„ν•΄ μ¶”κ°€ μ”μ²­μ„ ν•΄μ•Ό ν•λ‹¤. μ΄λ” ν΄λΌμ΄μ–ΈνΈκ°€ λ¨Όμ € μ”μ† λ©λ΅μ„ λ‹¤μ΄λ΅λ“ ν•΄μ•Ό ν•μ§€λ§ ν•„μ”ν• λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤κΈ° μ„ν•΄ μ”μ†λ‹Ή ν•λ‚μ μ¶”κ°€ μ”μ²­μ„ ν•΄μ•Ό ν•λ” μƒν™©μΌλ΅ ν™•λ€λ  μ μλ‹¤.

μλ¥Όλ“¤μ–΄ λ™μΌν• μ‚¬μ©μ μ•±μ—μ„ λ§μ§€λ§‰ 3λ…μ ν”λ΅μ›λ¥Ό ν‘μ‹ν•΄μ•Ό ν•λ‹¤κ³  κ°€μ •ν•λ‹¤. APIλ” μ¶”κ°€ μ—”λ“ ν¬μΈνΈλ¥Ό μ κ³µν•λ‹¤. `/users/<user-id>/followers .` ν•„μ”ν• μ •λ³΄λ¥Ό μ–»κ³ μ ν•λ‹¤λ©΄ μ•±μ΄ `/users`μ—μ„ κ° μ‚¬μ©μ λ§λ‹¤ `/users/<user-id>/followers`μ— λ„λ‹¬ν•΄μ•Ό ν•λ‹¤.

## ν”„λ΅ νΈμ—”λ“μ—μ„ μ‹ μ†ν• μ ν’ λ°λ³µ?

REST APIμ μΌλ°μ μΈ ν¨ν„΄μ€ μ•± λ‚΄λ¶€μ— μλ” λ³΄κΈ°μ— λ”°λΌ μ—”λ“ν¬μΈνΈλ¥Ό κµ¬μ΅°ν™” ν•λ” κ²ƒμ΄λ‹¤. μ΄λ” ν΄λΌμ΄μ–ΈνΈκ°€ ν•΄λ‹Ή μ—”λ“ν¬μΈνΈμ— κ°„λ‹¨ν μ ‘κ·Όν•μ—¬ νΉμ • μ •λ³΄λ¥Ό μ–»μ„μ μμΌλ―€λ΅ νΈλ¦¬ν•λ‹¤.

μ΄ λ°©μ‹μ μ£Όμ” λ‹¨μ μ€ ν”„λ°νΈμ—”λ“μ—μ„ λΉ λ¥Έ λ°λ³µμ„ ν—μ©ν•μ§€ μ•λ”λ‹¤λ” κ²ƒμ΄λ‹¤. UIκ°€ λ³€κ²½λ  λ• λ§λ‹¤ μ΄μ „λ³΄λ‹¤ λ” λ§μ€(νΉμ€ λ” μ μ€)λ°μ΄ν„°κ°€ ν•„μ”ν•  μ„ν—μ΄ λ†’λ‹¤. κ²°κ³Όμ μΌλ΅ μƒλ΅μ΄ λ°μ΄ν„° μ”κµ¬ μ‚¬ν•­μ„ κ³ λ ¤ν•μ—¬ λ°±μ—”λ“λ„ μ΅°μ •ν•΄μ•Ό ν•λ‹¤. μ΄λ” μƒμ‚°μ„±μ„ μ €ν•μ‹ν‚¤κ³  μ‚¬μ©μ ν”Όλ“λ°±μ„ μ ν’μ— ν†µν•© μ‹ν‚¤λ” λ¥λ ¥μ„ ν„μ €ν μ €ν• μ‹ν‚¨λ‹¤.

κ·Έλν”„ QLμ„ μ‚¬μ©ν•λ‹¤λ©΄ μ΄ λ¬Έμ κ°€ ν•΄κ²° λλ‹¤. κ·Έλν”„ QLμ μ μ—°ν• νΉμ„± λ•λ¶„μ— μ„λ²„μ—μ„ μ¶”κ°€ μ‘μ—… μ—†μ΄ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ λ³€κ²½ν•  μ μλ‹¤. κ³ κ°μ΄ μ •ν™•ν• λ°μ΄ν„° μ”κµ¬ μ‚¬ν•­μ„ μ§€μ •ν•  μ μμΌλ―€λ΅ ν”„λ°νΈμ—”λ“ μ„¤κ³„ λ° λ°μ΄ν„° μ”κµ¬ μ‚¬ν•­μ΄ λ³€κ²½λ  λ• λ°±μ—”λ“ μ—”μ§€λ‹μ–΄κ°€ μ΅°μ •ν•  ν•„μ”κ°€ μ—†λ‹¤.

## λ°±μ—”λ“μ— λ€ν• ν†µμ°°λ ¥ μλ” λ¶„μ„

Graph QLμ„ μ‚¬μ©ν•λ©΄ λ°±μ—”λ“μ—μ„ μ”μ²­λ λ°μ΄ν„°μ— λ€ν• μ„Έλ¶€μ μΈ ν†µμ°°λ ¥μ„ μ–»μ„ μ μλ‹¤. κ° ν΄λΌμ΄μ–ΈνΈλ” κ΄€μ‹¬ μλ” μ •λ³΄λ¥Ό μ •ν™•ν μ €μ¥ν•λ―€λ΅ μ‚¬μ© κ°€λ¥ν• λ°μ΄ν„°κ°€ μ–΄λ–»κ² μ‚¬μ©λλ”μ§€ κΉμ΄ μ΄ν•΄ν•  μ μλ‹¤. μλ¥Όλ“¤μ–΄ APIλ¥Ό λ°μ „μ‹ν‚¤κ³  ν΄λΌμ΄μ–ΈνΈκ°€ λ”μ΄μƒ μ”μ²­ν•μ§€ μ•λ” νΉμ • ν•„λ“λ¥Ό λ”μ΄μƒ μ‚¬μ©ν•μ§€ μ•λ” λ° λ„μ›€μ΄ λ  μ μλ‹¤.

Graph QLμ„ μ‚¬μ©ν•λ©΄ μ„λ²„μ—μ„ μ²λ¦¬ν•λ” μ”μ²­μ— λ€ν• λ‚®μ€ μμ¤€μ μ„±λ¥ λ¨λ‹ν„°λ§λ„ μν–‰ν•  μ μλ‹¤. GraphQLμ€ ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• λ°μ΄ν„°λ¥Ό μμ§‘ν•κΈ° μ„ν•΄ resolver ν•¨μλ¥Ό μ‚¬μ©ν•λ‹¤. μ΄ λ¦¬μ΅Έλ²„ ν•¨μμ μ„±λ¥μ„ κ³„μΈ΅ν•κ³  μΈ΅μ •ν•λ©΄ μ‹μ¤ν…μ λ³‘λ© ν„μƒμ— λ€ν• ν†µμ°°λ ¥μ„ μ–»μ„ μ μλ‹¤.

## μ¤ν‚¤λ§ λ° μ ν• μ‹μ¤ν…μ μ΄μ 

κ·Έλν”„ νμ—μ€ κ°•λ ¥ν• μ ν• μ‹μ¤ν…μ„ μ΄μ©ν•μ—¬ APIμ κΈ°λ¥μ„ μ •μ ν•λ‹¤. API μ— λ…Έμ¶λλ” λ¨λ“  μ ν•μ€ Graph QL SDL(μ¤ν‚¤λ§ μ •μ μ–Έμ–΄)μ„ μ‚¬μ©ν•μ—¬ μ¤ν‚¤λ§μ— κΈ°λ΅ λλ‹¤. μ΄ μ¤ν‚¤λ§λ” ν΄λΌμ΄μ–ΈνΈκ°€ λ°μ΄ν„°μ— μ—‘μ„Έμ¤ ν•  μ μλ” λ°©λ²•μ„ μ •μν•κΈ° μ„ν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ κ³„μ•½ μ—­ν• μ„ ν•λ‹¤.

μ¤ν‚¤λ§κ°€ μ •μλλ©΄ ν”„λ΅ νΈμ™€ λ°±μ—”λ“μ—μ„ μ‘μ—…ν•λ” ν€μ€ λ„¤νΈμ›ν¬λ¥Ό ν†µν•΄ μ „μ†΅λλ” λ°μ΄ν„°μ λ…ν™•ν• κµ¬μ΅°λ¥Ό μ•κ³  μκΈ° λ•λ¬Έμ— μ¶”κ°€ ν†µμ‹  μ—†μ΄ μ‘μ—…μ„ μν–‰ν•  μ μλ”°.

ν”„λ΅ νΈμ—”λ“ ν€μ€ ν•„μ”ν• λ°μ΄ν„° κµ¬μ΅°λ¥Ό μ΅°μΆ…ν•μ—¬ μ•±μ„ μ‰½κ² ν…μ¤νΈ κ°€λ¥ν•λ‹¤. μ„λ²„κ°€ μ¤€λΉ„λλ©΄ ν΄λΌμ΄μ–ΈνΈ μ•±μ΄ μ‹¤μ λ΅ APIμ—μ„ λ°μ΄ν„°λ¥Ό λ΅λ“ν•λ„λ΅ μ¤μ„μΉ­ ν•  μ μλ‹¤.
